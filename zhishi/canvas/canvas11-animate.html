<!DOCTYPE HTML>
<html>
	<head>
		<style>
			body{text-align:center;}
			canvas{border:1px solid #f00;margin:10px auto;}
		</style>
		<script>
			function writeMessage(canvas, message){
			var context = canvas.getContext('2d');
			context.clearRect(0, 0, canvas.width, canvas.height);
			context.font = '18pt Calibri';
			context.fillStyle = 'black';
			context.fillText(message, 10, 25);
			}
			function getMousePos(canvas, evt){
			//  获得 canvas 位置
			var obj = canvas;
			var top = 0;
			var left = 0;
			while (obj && obj.tagName != 'BODY') {
			top += obj.offsetTop;
			left += obj.offsetLeft;
			obj = obj.offsetParent;
			}
			// 返回鼠标相对位置
			var mouseX = evt.clientX - left + window.pageXOffset;
			var mouseY = evt.clientY - top + window.pageYOffset;
			return {
			x: mouseX,
			y: mouseY
			};
			}
			window.onload = function(){
			var canvas = document.getElementById('myCanvas');
			var context = canvas.getContext('2d');
			canvas.addEventListener('mousemove', function(evt){
			var mousePos = getMousePos(canvas, evt);
			var message = "Mouse position: " + mousePos.x + "," + mousePos.y;
			writeMessage(canvas, message);
			}, false);
			};
		</script>
	</head>
		<body>
			<canvas id="myCanvas" width="508" height="400"></canvas>
		</body>
</html>